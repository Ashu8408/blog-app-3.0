<% @posts.each do |post| %>
    <div class="post-item flex items-center shadow-md rounded-lg p-2 mb-2 gap-5 bg-yellow-50">
        <div class="p-2">
            <div class="flex items-end gap-5 py-2 ">
            <label id="post_<%= post.id %>_title" class="text-xl text-blue-500 underline font-bold">
                <%= link_to post.title, post %>
            </label>
            <label class="text-sm text-blue-500">
                by <%= link_to post.user.email.split('@').first.capitalize if post.user.present? %>
                <%#= link_to post.user.email.split('@').first.capitalize, user_path(post.user), class: "underline hover:text-blue-700" if post.user.present? %>

            </label>
            </div>
            <p id="post_<%= post.id %>_content" class="px-2 text-base">
            <% if post.content.split.size > 50 %>
                <%= post.content.split[0..50].join(" ") %>...
                <%= link_to "Read More", post, class: "text-blue-500 underline" %>
            <% else %>
                <%= post.content %>
            <% end %>
            </p>
        </div>
        <div class="flex items-center text-sm px-2 py-1 rounded-full gap-1">
            <%= link_to post_path(post), class: "cursor-pointer" do %>
            <svg width="25" height="25" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" transform="rotate(0 0 0)">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M2.50002 12.0957C2.50002 6.849 6.75332 2.5957 12 2.5957C17.2467 2.5957 21.5 6.849 21.5 12.0957C21.5 17.3424 17.2467 21.5957 12 21.5957H3.25002C2.94668 21.5957 2.6732 21.413 2.55711 21.1327C2.44103 20.8525 2.50519 20.5299 2.71969 20.3154L4.77303 18.262C3.35633 16.603 2.50002 14.4488 2.50002 12.0957ZM12 4.0957C7.58174 4.0957 4.00002 7.67742 4.00002 12.0957C4.00002 14.305 4.89463 16.304 6.34317 17.7526C6.48382 17.8932 6.56284 18.084 6.56284 18.2829C6.56284 18.4818 6.48382 18.6726 6.34317 18.8132L5.06068 20.0957H12C16.4183 20.0957 20 16.514 20 12.0957C20 7.67742 16.4183 4.0957 12 4.0957Z" fill="#343C54"/>
            </svg>
            <% end %>
            <%= post.comments.where(is_deleted: false).count %>
        </div>
    </div>
<% end %>